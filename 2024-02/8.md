## 取り組んだこと
- Rails EC 管理画面フォーム作成
  - 編集機能追加
  - エラーメッセージを整理できないか調べる
## 分かったこと
  - 保存失敗にファイルアップロードの箇所も値を保持できないか調べる
    - `<input type="file>`ではセキュリティ上の理由からブラウザがファイルのデフォルト値を設定することを許可していない。<br>→viewでは既存の画像を表示し、コントローラー側で処理を分岐する。単にparamでupdateをかけるとファイルが送信されなかった場合に既存のファイルが削除されてしまうため、:imageはparamにファイルがある場合のみupdateをかけることにする
  - 管理者へログインしていない場合/admin配下へのアクセスを禁止する。
    - コントローラに`before_action`でログインしているかどうかを確認する処理を挟む
  - コミットメッセージについて
    - prefixは英語、詳細は日本語が個人的に好み。

## 作業メモ
### 編集機能
  - 画像をどうするか
    - 画面を開いた時に設定されている画像をプレビューする
    - ~~画像が編集されなかった場合に元の値で上書き？無駄な処理になってしまう気がする~~
  - 新規追加と共通が多いのでパーシャルへ切り出す
    - ボタンは登録と編集で別のテキストにしたいので`form_with`は各ファイル、フィールドはパーシャルへ切り出す
    - フォームの送り先も違うのでそこも
  - 更新後の並び順がおかしい気がする
  - ログイン実装（一旦アカウント登録はコンソールで）
    - 画面
      - メールアドレス
      - パスワード
    - コントローラー
      - 
    - モデル
    - admin/配下へのアクセス制限
      - `before_action`を使う

## 次やること
- Rails EC 管理画面フォーム作成
  - エラーメッセージを整理できないか調べる
  - ログイン実装
    - 管理者へログインしていない場合/admin配下へのアクセスを禁止する。
- git
  - git運用について調べる

## 感想
- コミットの粒度をより細かくしたい。作業しているとあれもこれもとなるので、作業メモを取りながら整理しつつ開発する

## 勉強時間
3h(353h)