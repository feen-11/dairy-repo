## 取り組んだこと
- Rails EC 管理画面フォーム作成
  - ログイン実装
    - ログイン失敗時のエラーメッセージ表示
    - 管理者へログインしていない場合/admin配下へのアクセスを禁止する。
    - 導線整理
  - その他
    - サンプルコード削除
    - 一覧のレイアウト調整
## 分かったこと

### バリデーションのタイミング
seedを実行した時バリデーションエラーが発生した。原因はproductモデルにバリデーションのタイミングだった。
```
product = Product.create!(name: 'name')
product.image.attach(***)
```
この場合、`create!`の時点でバリデーションが発火するためimageのpresenceバリデーションに引っかかる。
エラー回避のため以下のように修正
```
product = Product.new(name: 'name')
product.image.attach(***)
product.save!
```
これにより`save!`のタイミング（imageのアタッチ後）にバリデーションが発火するため、エラーは起こらない。

詳細はQiitaに投稿
https://qiita.com/ichiiiAL/items/e76d5fe5977d0b30fd4a


## 作業メモ

- Rails EC 管理画面フォーム作成
### ログイン実装
  - ログイン失敗時のエラーメッセージ表示
    - ログイン情報を推測できないようシンプルなエラーメッセージで良い
  - [x] 管理者へログインしていない場合/admin配下へのアクセスを禁止する。
    - admin::productsコントローラーへ`before_action`を追加
  - [x] 導線整理
    - ログイン/非ログイン状態で表示を分ける
### その他
  - [x] サンプルコード削除
  - [x] 一覧のレイアウト調整

## 次やること
- Rails EC 管理機能 レビューバック対応
- Rails EC  カート機能実装
  - ボタンを押したらカートに商品を追加
    - 一覧画面は1、詳細は入力した数値分追加
  - カートに数量を表示
  - カート機能は自身のカートの商品のみ操作（追加、削除）

## 感想

## 勉強時間
3h(360h)